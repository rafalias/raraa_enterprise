{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\acer\\\\Desktop\\\\coding tutorial\\\\raraa_react\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{db}from'./firebase';import\"./Orders.css\";import{useStateValue}from'./StateProvider';import Order from\"./Order\";function Orders(){var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),_useStateValue2$=_useStateValue2[0],basket=_useStateValue2$.basket,user=_useStateValue2$.user,dispatch=_useStateValue2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];useEffect(function(){if(user){db.collection('users').doc(user===null||user===void 0?void 0:user.uid).collection('orders').orderBy('created','desc').onSnapshot(function(snapshot){return setOrders(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});}else{setOrders([]);}},[user]);return/*#__PURE__*/React.createElement(\"div\",{className:\"orders\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Your Orders\"),/*#__PURE__*/React.createElement(\"div\",{className:\"orders_order\"},orders===null||orders===void 0?void 0:orders.map(function(order){return/*#__PURE__*/React.createElement(Order,{order:order});})));}export default Orders;","map":{"version":3,"sources":["C:/Users/acer/Desktop/coding tutorial/raraa_react/src/Orders.js"],"names":["React","useState","useEffect","db","useStateValue","Order","Orders","basket","user","dispatch","orders","setOrders","collection","doc","uid","orderBy","onSnapshot","snapshot","docs","map","id","data","order"],"mappings":"kLAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAAyBC,SAAzB,KAA0C,OAA1C,CACA,OAASC,EAAT,KAAmB,YAAnB,CACA,MAAO,cAAP,CACA,OAASC,aAAT,KAA8B,iBAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CAEA,QAASC,CAAAA,MAAT,EAAkB,oBACoBF,aAAa,EADjC,sFACPG,MADO,kBACPA,MADO,CACCC,IADD,kBACCA,IADD,CACQC,QADR,kCAEaR,QAAQ,CAAC,EAAD,CAFrB,wCAERS,MAFQ,eAEAC,SAFA,eAIdT,SAAS,CAAC,UAAK,CAEX,GAAGM,IAAH,CAAQ,CACRL,EAAE,CACGS,UADL,CACgB,OADhB,EAEKC,GAFL,CAESL,IAFT,SAESA,IAFT,iBAESA,IAAI,CAAEM,GAFf,EAGKF,UAHL,CAGgB,QAHhB,EAIKG,OAJL,CAIa,SAJb,CAIwB,MAJxB,EAKKC,UALL,CAKgB,SAAAC,QAAQ,QAChBN,CAAAA,SAAS,CAACM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAN,GAAG,QAAK,CAChCO,EAAE,CAACP,GAAG,CAACO,EADyB,CAEhCC,IAAI,CAACR,GAAG,CAACQ,IAAJ,EAF2B,CAAL,EAArB,CAAD,CADO,EALxB,EAWK,CAZL,IAaQ,CACAV,SAAS,CAAC,EAAD,CAAT,CACH,CAER,CAnBQ,CAmBN,CAACH,IAAD,CAnBM,CAAT,CAqBA,mBACI,2BAAK,SAAS,CAAC,QAAf,eACI,4CADJ,cAGI,2BAAK,SAAS,CAAC,cAAf,EACKE,MADL,SACKA,MADL,iBACKA,MAAM,CAAES,GAAR,CAAY,SAAAG,KAAK,qBACd,oBAAC,KAAD,EAAO,KAAK,CAAIA,KAAhB,EADc,EAAjB,CADL,CAHJ,CADJ,CAYH,CAED,cAAehB,CAAAA,MAAf","sourcesContent":["import React, { useState,useEffect } from 'react';\r\nimport { db } from './firebase';\r\nimport \"./Orders.css\";\r\nimport { useStateValue } from './StateProvider';\r\nimport Order from \"./Order\";\r\n\r\nfunction Orders() {\r\n    const[{basket, user}, dispatch] = useStateValue();\r\n    const[orders, setOrders] = useState([]);\r\n\r\n    useEffect(() =>{\r\n         \r\n        if(user){\r\n        db\r\n            .collection('users')\r\n            .doc(user?.uid)\r\n            .collection('orders')\r\n            .orderBy('created', 'desc')\r\n            .onSnapshot(snapshot => (\r\n                setOrders(snapshot.docs.map(doc => ({\r\n                    id:doc.id,\r\n                    data:doc.data()\r\n                })))\r\n            ))\r\n            }\r\n            else{\r\n                setOrders([])\r\n            }\r\n\r\n    }, [user])\r\n\r\n    return (\r\n        <div className='orders'>\r\n            <h1>Your Orders</h1>\r\n\r\n            <div className='orders_order'>\r\n                {orders?.map(order => (\r\n                    <Order order = {order} />\r\n                ))}\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Orders\r\n"]},"metadata":{},"sourceType":"module"}