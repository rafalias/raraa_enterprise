{"version":3,"sources":["StateProvider.js","Product.js","Home.js","firebase.js","Header.js","CheckoutProducts.js","reducer.js","Subtotal.js","Checkout.js","Login.js","axios.js","Payment.js","Order.js","Orders.js","App.js","serviceWorker.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","Product","id","title","image","price","rating","dispatch","basket","className","src","alt","Array","fill","map","_","i","onClick","type","item","Home","db","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","Header","user","to","signOut","email","length","CheckoutProducts","hideButton","getBasketTotal","reduce","amount","state","action","index","findIndex","basketitem","newBasket","splice","console","warn","Subtotal","history","useHistory","log","renderText","decimalScale","displayType","thousandSeparator","prefix","e","push","Checkout","Login","useState","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","message","createUserWithEmailAndPassword","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","setError","disabled","setDisabled","clientSecret","setclientSecret","succeeded","setsucceeded","processing","setprocessing","useEffect","a","method","url","response","data","getclientSecret","handleSubmit","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","collection","doc","uid","set","created","replace","onSubmit","empty","Order","order","moment","unix","format","Orders","orders","setOrders","orderBy","onSnapshot","snapshot","docs","promise","loadStripe","App","unsubscribe","onAuthStateChanged","authUser","path","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"0OAGaA,G,YAAeC,2BAIfC,EAAgB,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,aAAcC,EAA1B,EAA0BA,SAA1B,OAC3B,kBAACL,EAAaM,SAAd,CAAuBC,MAAOC,qBAAWL,EAASC,IAC/CC,IAKQI,EAAgB,kBAAMC,qBAAWV,IC+B/BW,MAxCf,YAAoD,IAAlCC,EAAiC,EAAjCA,GAAIC,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,MAAOC,EAAQ,EAARA,OAAQ,EACnBP,IADmB,mBAC/BQ,GAD+B,KACxCC,OADwC,MAiB/C,OACI,yBAAKC,UAAU,WACf,yBAAKC,IAAKN,EAAOO,IAAI,KACjB,yBAAKF,UAAU,gBACX,2BAAIN,GACJ,uBAAGM,UAAU,iBACT,qCACA,gCAASJ,IAGb,yBAAKI,UAAU,kBACdG,MAAMN,GACFO,OACAC,KAAI,SAACC,EAAGC,GAAJ,OACL,gDAIR,4BAAQC,QAhCI,WAEhBV,EAAS,CACLW,KAAM,gBACNC,KAAM,CACJjB,GAAIA,EACJC,MAAOA,EACPC,MAAOA,EACPC,MAAOA,EACPC,OAAQA,OAuBV,mBCsBGc,MA1Df,WACI,OACI,yBAAKX,UAAU,QACX,yBAAKA,UAAU,kBAEX,yBAAKA,UAAU,aAAaC,IAAI,+KAEhC,yBAAKD,UAAU,YACX,kBAAC,EAAD,CACIP,GAAG,MACHC,MAAM,gBACNE,MAAO,KACPC,OAAQ,EACRF,MAAM,8PAEV,kBAAC,EAAD,CACIF,GAAG,MACHC,MAAM,uBACNE,MAAO,KACPC,OAAQ,EACRF,MAAM,6PAEV,kBAAC,EAAD,CACIF,GAAG,MACHC,MAAM,gBACNE,MAAO,KACPC,OAAQ,EACRF,MAAM,8PAGd,yBAAKK,UAAU,YACf,kBAAC,EAAD,CACIP,GAAG,MACHC,MAAM,gBACNE,MAAO,KACPC,OAAQ,EACRF,MAAM,6PAEV,kBAAC,EAAD,CACIF,GAAG,MACHC,MAAM,mBACNE,MAAO,KACPC,OAAQ,EACRF,MAAM,6PAEV,kBAAC,EAAD,CACIF,GAAG,MACHC,MAAM,iBACNE,MAAO,KACPC,OAAQ,EACRF,MAAM,iQ,2DCtCpBiB,EAFcC,IAASC,cAXN,CACnBC,OAAQ,0CACRC,WAAY,8BACZC,YAAa,qCACbC,UAAW,cACXC,cAAe,0BACfC,kBAAmB,eACnBC,MAAO,4CACPC,cAAe,iBAKIC,YACjBC,EAAOX,IAASW,OC4CPC,MArDf,WAAkB,IAAD,EAEqBnC,IAFrB,0BAENS,EAFM,EAENA,OAAQ2B,EAFF,EAEEA,KAQf,OAVa,KAWb,yBAAK1B,UAAU,UACX,kBAAC,IAAD,CAAM2B,GAAG,KAEL,yBAAK3B,UAAU,cAAcC,IAAI,uDAGrC,yBAAKD,UAAU,iBACX,2BAAOA,UAAU,qBAAqBS,KAAK,SAC3C,kBAAC,IAAD,CAAYT,UAAU,uBAG1B,yBAAKA,UAAU,cACX,kBAAC,IAAD,CAAM2B,IAAKD,GAAQ,UACnB,yBAAK1B,UAAU,gBAAgBQ,QApBV,WACtBkB,GACCF,EAAKI,YAmBD,0BAAM5B,UAAU,wBAAhB,SAA+C0B,EAAiBA,EAAKG,MAAf,SACtD,0BAAM7B,UAAU,wBAAwB0B,EAAO,WAAY,aAI/D,kBAAC,IAAD,CAAMC,GAAG,UACT,yBAAK3B,UAAU,iBACX,0BAAMA,UAAU,wBAAhB,WACA,0BAAMA,UAAU,wBAAhB,cAIJ,yBAAKA,UAAU,iBACX,0BAAMA,UAAU,wBAAhB,QACA,0BAAMA,UAAU,wBAAhB,WAGJ,kBAAC,IAAD,CAAM2B,GAAI,aACV,yBAAK3B,UAAU,uBACX,kBAAC,IAAD,MACI,0BAAMA,UAAU,2CAAhB,OAA2DD,QAA3D,IAA2DA,OAA3D,EAA2DA,EAAQ+B,a,YChBxEC,MAjCf,YAA0E,IAA/CtC,EAA8C,EAA9CA,GAAIE,EAA0C,EAA1CA,MAAOD,EAAmC,EAAnCA,MAAOE,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,OAAQmC,EAAa,EAAbA,WAAa,EAEzC1C,IAFyC,mBAErDQ,GAFqD,KAE9DC,OAF8D,MAUrE,OACI,yBAAKC,UAAY,oBACb,yBAAKC,IAAKN,EAAOK,UAAU,yBAE3B,yBAAKA,UAAU,yBACX,uBAAGA,UAAW,0BAA0BN,GACxC,uBAAGM,UAAU,0BACT,qCACA,gCAASJ,IAEb,yBAAKI,UAAU,2BACVG,MAAMN,GAAQO,OAAOC,KAAI,SAACC,EAAGC,GAAJ,OACzB,gDAGHyB,GACF,4BAAQxB,QAvBK,WACjBV,EAAS,CACLW,KAAM,qBACNhB,GAAIA,MAoBJ,yB,yCCrBHwC,EAAiB,SAAClC,GAAD,cAC1BA,QAD0B,IAC1BA,OAD0B,EAC1BA,EAAQmC,QAAO,SAACC,EAAQzB,GAAT,OAAkBA,EAAKd,MAAQuC,IAAO,IAyC1CnD,EAvCC,SAACoD,EAAOC,GACpB,OAAQA,EAAO5B,MACX,IAAK,WACD,kCACO2B,GADP,IAEIV,KAAMW,EAAOX,OAErB,IAAK,gBACD,kCACOU,GADP,IAEIrC,OAAO,GAAD,mBAAKqC,EAAMrC,QAAX,CAAmBsC,EAAO3B,SAExC,IAAK,qBACG,IAAM4B,EAAQF,EAAMrC,OAAOwC,WACvB,SAACC,GAAD,OAAgBA,EAAW/C,KAAO4C,EAAO5C,MAEzCgD,EAAS,YAAOL,EAAMrC,QAQ1B,OAPKuC,GAAS,EACVG,EAAUC,OAAOJ,EAAM,GAGvBK,QAAQC,KAAR,2BAAiCP,EAAO5C,KAG5C,2BACO2C,GADP,IAEIrC,OAAQ0C,IAEpB,IAAK,eACG,kCACOL,GADP,IAEIrC,OAAO,KAGnB,QACI,OAAOqC,ICTJS,MA9Bf,WAEI,IAAMC,EAAUC,cAFA,EAGkBzD,IAHlB,0BAGTS,EAHS,EAGTA,OAGP,OANgB,EAGD2B,KAHC,KAIhBiB,QAAQK,IAAIjD,GAGR,yBAAKC,UAAU,YACX,kBAAC,IAAD,CAAgBiD,WAAc,SAAC7D,GAAD,OAC1B,oCACA,8CACcW,QADd,IACcA,OADd,EACcA,EAAQ+B,OADtB,WAEI,gCAAS1C,IAEb,2BAAOY,UAAU,iBACb,2BAAOS,KAAK,aADhB,gCAKJyC,aAAc,EACd9D,MAAO6C,EAAelC,GACtBoD,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,OAER,4BAAQ7C,QAAS,SAAA8C,GAAC,OAAIR,EAAQS,KAAK,cAAnC,0BCMGC,MAjCf,WAAqB,IAAD,EACiBlE,IADjB,0BACTS,EADS,EACTA,OAAQ2B,EADC,EACDA,KAEf,OAHgB,KAIZ,yBAAK1B,UAAU,YACZ,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,cAAcC,IAAI,6DAEjC,6BACI,6CAAYyB,QAAZ,IAAYA,OAAZ,EAAYA,EAAMG,OAClB,wBAAI7B,UAAU,kBAAd,wBAECD,EAAOM,KAAI,SAAAK,GAAI,OACX,kBAAC,EAAD,CACIjB,GAAIiB,EAAKjB,GACTC,MAAOgB,EAAKhB,MACZC,MAAOe,EAAKf,MACZC,MAAOc,EAAKd,MACZC,OAAQa,EAAKb,cAO1B,yBAAKG,UAAU,kBACV,kBAAC,EAAD,S,MC4BLyD,MAvDf,WAEI,IAAMX,EAAUC,cAFJ,EAGcW,mBAAS,IAHvB,mBAGL7B,EAHK,KAGE8B,EAHF,OAIoBD,mBAAS,IAJ7B,mBAILE,EAJK,KAIKC,EAJL,KA8BZ,OACI,yBAAK7D,UAAU,SACX,kBAAC,IAAD,CAAM2B,GAAG,KACL,yBAAK3B,UAAU,aAAaC,IAAI,4DAGpC,yBAAKD,UAAU,mBACX,uCAEA,8BACI,sCACA,2BAAOS,KAAK,OAAOrB,MAAOyC,EAAOiC,SAAU,SAAAR,GAAC,OAAIK,EAASL,EAAES,OAAO3E,UAElE,wCACA,2BAAOqB,KAAK,WAAWrB,MAAOwE,EAAUE,SAAU,SAAAR,GAAC,OAAIO,EAAYP,EAAES,OAAO3E,UAE5E,4BAAQqB,KAAK,SAAST,UAAU,qBAAqBQ,QAxCtD,SAAA8C,GACXA,EAAEU,iBAEFxC,EACKyC,2BAA2BpC,EAAO+B,GAClCM,MAAK,SAAA1C,GACEsB,EAAQS,KAAK,QAEpBY,OAAM,SAAAC,GAAK,OAAIC,MAAMD,EAAME,cAgCpB,YAGJ,4BAAQtE,UAAU,uBAAuBQ,QAhCpC,SAAA8C,GACbA,EAAEU,iBAEFxC,EACK+C,+BAA+B1C,EAAM+B,GACrCM,MAAK,SAAC1C,GACAA,GACCsB,EAAQS,KAAK,QAGpBY,OAAM,SAAAC,GAAK,OAAIC,MAAMD,EAAME,cAsBxB,gC,iDChDDE,E,OAJEC,EAAMC,OAAO,CAC1BC,QAAS,sDCyJEC,MAhJf,WAAoB,IAAD,EACoBtF,IADpB,0BACPS,EADO,EACPA,OAAQ2B,EADD,EACCA,KAAO5B,EADR,KAGT+E,EAAQC,sBACRC,EAAWC,wBACXlC,EAAUC,cALD,EAOUW,mBAAS,MAPnB,mBAOTU,EAPS,KAOFa,EAPE,OAQgBvB,oBAAS,GARzB,mBAQTwB,EARS,KAQCC,EARD,OASwBzB,oBAAS,GATjC,mBAST0B,EATS,KASKC,EATL,OAWkB3B,oBAAS,GAX3B,mBAWT4B,EAXS,KAWEC,EAXF,OAYoB7B,mBAAS,IAZ7B,mBAYT8B,EAZS,KAYGC,EAZH,KAcfC,qBAAU,YAImB,uCAAG,4BAAAC,EAAA,sEACGlB,EAAM,CACzBmB,OAAQ,OAERC,IAAI,yBAAD,OAAoD,GAAzB5D,EAAelC,MAJ7B,OACd+F,EADc,OAMpBT,EAAgBS,EAASC,KAAKX,cANV,2CAAH,qDAQrBY,KACL,CAACjG,IAEP4C,QAAQK,IAAI,oBAAqBoC,GACjCzC,QAAQK,IAAI,qBAAZ,OAAkCtB,QAAlC,IAAkCA,OAAlC,EAAkCA,EAAMjC,IAErC,IAAMwG,EAAY,uCAAE,WAAO3C,GAAP,SAAAqC,EAAA,6DAEZrC,EAAEU,iBACFyB,GAAc,GAHF,SAMUZ,EAAOqB,mBAAmBd,EAAc,CAC1De,eAAe,CACXC,KAAMrB,EAASsB,WAAWC,kBAE/BpC,MAAK,YAAsB,IAApBqC,EAAmB,EAAnBA,cAGV3F,EACK4F,WAAW,SACXC,IAFL,OAES/E,QAFT,IAESA,OAFT,EAESA,EAAMgF,KACVF,WAAW,UACXC,IAAIF,EAAc9G,IAAIkH,IAAI,CAC3B5G,OAAQA,EACRoC,OAAQoE,EAAcpE,OACtByE,QAASL,EAAcK,UAG3BrB,GAAa,GACbN,EAAS,MACTQ,GAAc,GAEd3F,EAAS,CACLW,KAAM,iBAGVqC,EAAQ+D,QAAQ,cA/BJ,yDAAF,sDA0ClB,OACI,yBAAK7G,UAAU,WACX,yBAAKA,UAAY,qBACjB,wCAEI,kBAAC,IAAD,CAAM2B,GAAI,aAAV,OAAuB5B,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAQ+B,OAA/B,UAFJ,KAOI,yBAAK9B,UAAU,mBACX,yBAAKA,UAAU,iBACX,iDAEJ,yBAAKA,UAAU,mBACX,kCAAI0B,QAAJ,IAAIA,OAAJ,EAAIA,EAAMG,OACV,sCACA,2CAIR,yBAAK7B,UAAU,mBACX,yBAAKA,UAAU,iBACX,0DAEJ,yBAAKA,UAAU,iBACVD,EAAOM,KAAI,SAAAK,GAAI,OACZ,kBAAC,EAAD,CACCjB,GAAIiB,EAAKjB,GACVC,MAAOgB,EAAKhB,MACZC,MAAOe,EAAKf,MACZC,MAAOc,EAAKd,MACZC,OAAQa,EAAKb,cAMzB,yBAAKG,UAAU,mBACX,yBAAKA,UAAU,iBACX,+CAEJ,yBAAKA,UAAU,mBAEX,0BAAM8G,SAAUb,GACZ,kBAAC,cAAD,CAAanC,SApDhB,SAAAR,GAGjB6B,EAAY7B,EAAEyD,OACd9B,EAAS3B,EAAEc,MAAQd,EAAEc,MAAME,QAAU,OAiDjB,yBAAKtE,UAAY,0BACb,kBAAC,IAAD,CACIiD,WAAc,SAAC7D,GAAD,OACd,4CAAkBA,IAEtB8D,aAAc,EACd9D,MAAO6C,EAAelC,GACtBoD,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,OAER,4BAAQ6B,SAAUM,GAAcN,GAAYI,GACxC,8BAAOE,EAAa,yCAAoB,aAG/CpB,GAAS,6BAAMA,S,yCC5G7B4C,MAjCf,YAAyB,IAAD,EAARC,EAAQ,EAARA,MACZ,OACI,yBAAKjH,UAAU,SACX,qCACA,2BAAIkH,IAAOC,KAAKF,EAAMlB,KAAKa,SAASQ,OAAO,wBAE3C,uBAAGpH,UAAU,YACT,+BAAQiH,EAAMxH,KALtB,UAOKwH,EAAMlB,KAAKhG,cAPhB,aAOK,EAAmBM,KAAI,SAAAK,GAAI,OACxB,kBAAC,EAAD,CACajB,GAAIiB,EAAKjB,GACVC,MAAOgB,EAAKhB,MACZC,MAAOe,EAAKf,MACZC,MAAOc,EAAKd,MACZC,OAAQa,EAAKb,OACbmC,YAAU,OAG1B,kBAAC,IAAD,CACQiB,WAAc,SAAC7D,GAAD,OACd,4CAAkBA,IAEtB8D,aAAc,EACd9D,MAAO6H,EAAMlB,KAAK5D,OAAS,IAC3BgB,YAAa,OACbC,mBAAmB,EACnBC,OAAQ,SCYTgE,MAvCf,WAAmB,IAAD,EACoB/H,IADpB,0BACCoC,GADD,EACP3B,OADO,EACC2B,MADD,QAEagC,mBAAS,KAFtB,mBAER4D,EAFQ,KAEAC,EAFA,KAyBd,OArBA7B,qBAAU,WAEHhE,EACHd,EACK4F,WAAW,SACXC,IAFL,OAES/E,QAFT,IAESA,OAFT,EAESA,EAAMgF,KACVF,WAAW,UACXgB,QAAQ,UAAW,QACnBC,YAAW,SAAAC,GAAQ,OAChBH,EAAUG,EAASC,KAAKtH,KAAI,SAAAoG,GAAG,MAAK,CAChChH,GAAGgH,EAAIhH,GACPsG,KAAKU,EAAIV,eAKbwB,EAAU,MAGnB,CAAC7F,IAGA,yBAAK1B,UAAU,UACX,2CAEA,yBAAKA,UAAU,gBAAf,OACKsH,QADL,IACKA,OADL,EACKA,EAAQjH,KAAI,SAAA4G,GAAK,OACd,kBAAC,EAAD,CAAOA,MAASA,UCtB9BW,EAAUC,YAAW,+GAwEZC,MAtEf,WAAgB,IAAD,EAEcxI,IAFd,mBAELoC,EAFK,KAELA,KAAO5B,EAFF,KAiCb,OA5BA4F,qBAAU,WAGR,IAAMqC,EAAcvG,EAAKwG,oBAAmB,SAACC,GAC3CtF,QAAQK,IAAI,mBAAoBiF,GAI9BnI,EAFEmI,EAEO,CACPxH,KAAM,WACNiB,KAAMuG,GAIC,CACPxH,KAAM,WACNiB,KAAM,UAKZ,OAAO,WAELqG,OAED,IAEHpF,QAAQK,IAAI,WAAatB,GAExB,kBAAC,IAAD,KACE,kBAAC,IAAD,KAEA,kBAAC,IAAD,CAAOwG,KAAK,WACT,kBAAC,EAAD,MACA,kBAAC,EAAD,OAGF,kBAAC,IAAD,CAAOA,KAAK,UACV,kBAAC,EAAD,OAGF,kBAAC,IAAD,CAAOA,KAAK,aACX,kBAAC,EAAD,MACA,kBAAC,EAAD,OAGA,kBAAC,IAAD,CAAOA,KAAK,YACZ,kBAAC,EAAD,MACA,kBAAC,WAAD,CAAUrD,OAAQ+C,GAClB,kBAAC,EAAD,QAIA,kBAAC,IAAD,CAAOM,KAAK,KACT,kBAAC,EAAD,MACA,kBAAC,EAAD,UCjEUC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCVNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACA,kBAAC,EAAD,CAAezJ,aVVW,CACxBc,OAAO,GACP2B,KAAK,MUQsC1C,QAAWA,GACtD,kBAAC,EAAD,QAGF2J,SAASC,eAAe,SDqHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB7E,MAAK,SAAA8E,GACJA,EAAaC,gBAEd9E,OAAM,SAAAC,GACLzB,QAAQyB,MAAMA,EAAME,a","file":"static/js/main.cd89cc49.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\r\n\r\n// Prepares the dataLayer\r\nexport const StateContext = createContext();\r\n\r\n// Wrap our app and provide the Data layer to every component\r\n//provide initial and reducer\r\nexport const StateProvider = ({ reducer, initialState, children }) => (\r\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n    {children}\r\n  </StateContext.Provider>\r\n);\r\n\r\n// Pull information from the data layer\r\nexport const useStateValue = () => useContext(StateContext);","import React from \"react\";\r\nimport \"./Product.css\";\r\nimport {useStateValue} from \"./StateProvider\";\r\n\r\n\r\nfunction Product({id, title, image, price, rating}){\r\n    const[{basket}, dispatch] = useStateValue();\r\n    // console.log(\"this is the basket\" + basket)\r\n    const addToBasket = () =>{\r\n        //dispatch the item into the data layer(push to data layer)\r\n        dispatch({\r\n            type: \"ADD_TO_BASKET\",\r\n            item: {\r\n              id: id,\r\n              title: title,\r\n              image: image,\r\n              price: price,\r\n              rating: rating,\r\n            },\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className=\"product\">\r\n        <img src={image} alt=\"\"></img>\r\n            <div className=\"product_info\">               \r\n                <p>{title}</p>\r\n                <p className=\"product_price\">\r\n                    <small>RM</small>\r\n                    <strong>{price}</strong>\r\n                </p>\r\n\r\n                <div className=\"product_rating\">\r\n                {Array(rating)\r\n                    .fill()\r\n                    .map((_, i) => (\r\n                    <p>🌟</p>\r\n            ))}\r\n                </div>\r\n            </div>           \r\n            <button onClick={addToBasket}>Add to Basket</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product;","import React from \"react\";\r\nimport \"./Home.css\";\r\nimport Product from \"./Product\";\r\n\r\nfunction Home(){\r\n    return(\r\n        <div className=\"home\">\r\n            <div className=\"home_container\">\r\n                {/* <img className=\"home_image\" src=\"https://raraa.s3-ap-southeast-1.amazonaws.com/raraa_home.png\"></img> */}\r\n                <img className=\"home_image\" src=\"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\"></img>\r\n\r\n                <div className=\"home_row\">\r\n                    <Product\r\n                        id=\"001\"\r\n                        title=\"Palazzo Pants\"\r\n                        price={39.90}\r\n                        rating={5}\r\n                        image=\"https://instagram.fkul18-1.fna.fbcdn.net/v/t51.2885-15/e35/122040773_5111591178881625_1557227438738202353_n.jpg?_nc_ht=instagram.fkul18-1.fna.fbcdn.net&_nc_cat=109&_nc_ohc=fgN4djZ4akwAX8Ak620&_nc_tp=18&oh=bcb23dc98fc77505ffd1268eeaed5256&oe=5FB9858C\"\r\n                    />\r\n                    <Product\r\n                        id=\"002\"\r\n                        title=\"Formal Palazzo Pants\"\r\n                        price={39.90}\r\n                        rating={5}\r\n                        image=\"https://instagram.fkul18-1.fna.fbcdn.net/v/t51.2885-15/e35/122168339_472200950367965_8722855689918829486_n.jpg?_nc_ht=instagram.fkul18-1.fna.fbcdn.net&_nc_cat=105&_nc_ohc=bbmK8nFMuA8AX94KdGg&_nc_tp=18&oh=2caf8cba5489d806a89e5fdcea779171&oe=5FB8F173\"\r\n                    />\r\n                    <Product\r\n                        id=\"003\"\r\n                        title=\"Denim Palazzo\"\r\n                        price={39.90}\r\n                        rating={4}\r\n                        image=\"https://instagram.fkul18-1.fna.fbcdn.net/v/t51.2885-15/e35/120938944_646868749348741_4164913612577358543_n.jpg?_nc_ht=instagram.fkul18-1.fna.fbcdn.net&_nc_cat=101&_nc_ohc=Jnj7PpJP0QcAX_HRK-V&_nc_tp=18&oh=603f4390a61060342587db7c59595b45&oe=5FB82AFC\"\r\n                    />\r\n                </div>\r\n                <div className=\"home_row\">\r\n                <Product\r\n                    id=\"004\"\r\n                    title=\"Denim Palazzo\"\r\n                    price={39.90}\r\n                    rating={4}\r\n                    image=\"https://instagram.fkul18-1.fna.fbcdn.net/v/t51.2885-15/e35/120973709_190959602478722_7907152265569857891_n.jpg?_nc_ht=instagram.fkul18-1.fna.fbcdn.net&_nc_cat=102&_nc_ohc=ou-7SQAHc6EAX-BZHbI&_nc_tp=18&oh=2fc886ace042520dabc5d461e52ded35&oe=5FB6A170\"\r\n                />\r\n                <Product\r\n                    id=\"005\"\r\n                    title=\"Ruffle Handsocks\"\r\n                    price={10.90}\r\n                    rating={4}\r\n                    image=\"https://instagram.fkul18-1.fna.fbcdn.net/v/t51.2885-15/e35/119714384_328553435231674_7570733957902565238_n.jpg?_nc_ht=instagram.fkul18-1.fna.fbcdn.net&_nc_cat=110&_nc_ohc=nHoTrpfVgz4AX_fyO3u&_nc_tp=18&oh=0f01a45009750617aa9f07909733bfee&oe=5FB80DB8\"\r\n                />\r\n                <Product\r\n                    id=\"006\"\r\n                    title=\"Lace Handsocks\"\r\n                    price={10.90}\r\n                    rating={4}\r\n                    image=\"https://instagram.fkul18-1.fna.fbcdn.net/v/t51.2885-15/e35/119473966_179355583665970_1467928981382942806_n.jpg?_nc_ht=instagram.fkul18-1.fna.fbcdn.net&_nc_cat=110&_nc_ohc=9qlIT7RFxxcAX-rX7Um&_nc_tp=18&oh=fd10ccff4ef63063229dddbddee3e346&oe=5FB8DDEE\"\r\n                />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;","import firebase from \"firebase\";\r\n\r\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyDCMj3cFg1S6TtQr5qsN9oiWB8U5E7wvmI\",\r\n    authDomain: \"raraa-bbca0.firebaseapp.com\",\r\n    databaseURL: \"https://raraa-bbca0.firebaseio.com\",\r\n    projectId: \"raraa-bbca0\",\r\n    storageBucket: \"raraa-bbca0.appspot.com\",\r\n    messagingSenderId: \"540896075604\",\r\n    appId: \"1:540896075604:web:a102ea2ae64377b88f72c1\",\r\n    measurementId: \"G-D725KTV3E1\"\r\n  };\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\n\r\nexport { db, auth };","import React from \"react\";\r\nimport \"./Header.css\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport ShoppingBasketIcon from \"@material-ui/icons/ShoppingBasket\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {useStateValue} from \"./StateProvider\";\r\nimport {auth} from \"./firebase\";\r\n\r\nfunction Header(){\r\n    \r\n    const[{basket, user}, dispatch] = useStateValue();\r\n\r\n    const handleAuthentication = () => {\r\n        if(user){\r\n            auth.signOut();\r\n        }\r\n    }\r\n\r\n    return(\r\n    <div className=\"header\">\r\n        <Link to=\"/\">\r\n            {/* <img className=\"header_logo\" src=\"https://raraa.s3-ap-southeast-1.amazonaws.com/logo.png\"></img> */}\r\n            <img className=\"header_logo\" src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\"></img>\r\n        </Link>\r\n\r\n        <div className=\"header_search\">\r\n            <input className=\"header_SearchInput\" type=\"text\"></input>\r\n            <SearchIcon className=\"header_searchIcon\"></SearchIcon>\r\n        </div>\r\n\r\n        <div className=\"header_nav\">\r\n            <Link to={!user && '/login'}>\r\n            <div className=\"header_option\" onClick={handleAuthentication}>\r\n                <span className=\"header_optionLineOne\">Hello {!user ? 'Guest' : user.email}</span>\r\n                <span className=\"header_optionLineTwo\">{user ? 'Sign Out': 'Sign in'}</span>\r\n            </div>\r\n            </Link>\r\n\r\n            <Link to='orders'>\r\n            <div className=\"header_option\">\r\n                <span className=\"header_optionLineOne\">Returns</span>\r\n                <span className=\"header_optionLineTwo\">& Orders</span>\r\n            </div>\r\n            </Link>\r\n\r\n            <div className=\"header_option\">\r\n                <span className=\"header_optionLineOne\">Your</span>\r\n                <span className=\"header_optionLineTwo\">Basket</span>\r\n            </div>\r\n\r\n            <Link to= \"/checkout\">\r\n            <div className=\"header_optionBasket\">\r\n                <ShoppingBasketIcon/>\r\n                    <span className=\"header_optionLineTwo header_basketCount\">{basket?.length}</span>             \r\n            </div>\r\n            </Link>\r\n        </div>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport './CheckoutProducts.css';\r\nimport {useStateValue} from \"./StateProvider\";\r\n\r\nfunction CheckoutProducts({id, image, title, price, rating, hideButton}) {\r\n\r\n    const[{basket}, dispatch] = useStateValue();\r\n    const removeFromBasket = () => {\r\n            dispatch({\r\n                type: \"REMOVE_FROM_BASKET\",\r\n                id: id,\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div className = \"checkoutProducts\">\r\n            <img src={image} className='checkoutProduct_img '/>\r\n\r\n            <div className=\"checkoutProducts_info\">\r\n                <p className= \"checkoutProdutcs_title\">{title}</p>\r\n                <p className=\"checkoutProducts_price\">\r\n                    <small>RM</small>\r\n                    <strong>{price}</strong>\r\n                </p>\r\n                <div className=\"checkoutProducts_rating\">\r\n                    {Array(rating).fill().map((_, i) =>\r\n                     <p>🌟</p>\r\n                    )}\r\n                </div>\r\n                {!hideButton &&(\r\n                <button onClick={removeFromBasket} >Remove from basket</button>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckoutProducts\r\n","export const initialState = {\r\n    basket:[],\r\n    user:null\r\n};\r\n\r\n//reducer is WAY to dispatch action into data layer(push data) and every component also can access from data layer(pull data)\r\n\r\n//Selector\r\n//reduce is a function iteraTe thru Basket tally up the total\r\nexport const getBasketTotal = (basket) =>\r\n    basket?.reduce((amount, item) => item.price + amount,0);\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"SET_USER\":\r\n            return{\r\n                ...state,\r\n                user: action.user,\r\n            };\r\n        case \"ADD_TO_BASKET\":\r\n            return{\r\n                ...state,\r\n                basket:[...state.basket, action.item],\r\n            };\r\n        case \"REMOVE_FROM_BASKET\":\r\n                const index = state.basket.findIndex(\r\n                    (basketitem) => basketitem.id === action.id\r\n                );\r\n                let newBasket = [...state.basket];\r\n                if ( index >= 0){\r\n                    newBasket.splice(index,1)\r\n                }\r\n                else{\r\n                    console.warn(`cant remove (id: ${action.id}`)\r\n                }\r\n\r\n                return{\r\n                    ...state,\r\n                    basket: newBasket\r\n                }\r\n        case \"EMPTY_BASKET\":\r\n                return{\r\n                    ...state,\r\n                    basket:[]\r\n                }\r\n\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import React from 'react';\r\nimport \"./Subtotal.css\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport {useStateValue} from \"./StateProvider\";\r\nimport {getBasketTotal} from \"./reducer\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\n\r\nfunction Subtotal() {\r\n\r\n    const history = useHistory(); //use/give the browse history\r\n    const[{basket, user}, dispatch] = useStateValue(); //pull basket from data layer\r\n    console.log(basket)\r\n\r\n    return (\r\n        <div className=\"subtotal\">\r\n            <CurrencyFormat renderText = {(value) => (\r\n                <>\r\n                <p>\r\n                    Subtotal({basket?.length} items):\r\n                    <strong>{value}</strong>\r\n                </p>\r\n                <small className=\"subTotal_gift\">\r\n                    <input type=\"checkbox\" />This order contains a gift\r\n                </small>\r\n                </>\r\n            )}\r\n            decimalScale={2}\r\n            value={getBasketTotal(basket)}\r\n            displayType={\"text\"}\r\n            thousandSeparator={true}\r\n            prefix={\"RM\"}\r\n            />\r\n            <button onClick={e => history.push('/payment')}> Proceed to checkout</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Subtotal;\r\n","import React from 'react';\r\nimport \"./Checkout.css\";\r\nimport CheckoutProducts from './CheckoutProducts';\r\nimport { useStateValue } from './StateProvider';\r\nimport Subtotal from \"./Subtotal\";\r\n\r\nfunction Checkout() {\r\n    const[{basket, user},dispatch] = useStateValue();\r\n\r\n    return (\r\n        <div className=\"checkout\">\r\n           <div className=\"checkout_left\">\r\n               <img className=\"checkout_ad\" src=\"https://raraa.s3-ap-southeast-1.amazonaws.com/newPay.png\"/>\r\n\r\n               <div>\r\n                   <h3>Hello, {user?.email}</h3>\r\n                   <h2 className=\"checkout_title\">Your shopping basket</h2>              \r\n\r\n                   {basket.map(item => (\r\n                        <CheckoutProducts \r\n                            id={item.id}\r\n                            title={item.title}\r\n                            image={item.image}\r\n                            price={item.price}\r\n                            rating={item.rating}\r\n                        />\r\n                   ))}\r\n\r\n               </div>\r\n            </div>\r\n\r\n               <div className=\"checkout_right\">\r\n                    <Subtotal />\r\n               </div>  \r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Checkout;","import React, { useState } from 'react';\r\nimport './Login.css'\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { auth } from \"./firebase\";\r\n\r\nfunction Login(){\r\n\r\n    const history = useHistory();\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const signIn = e => {\r\n        e.preventDefault();\r\n\r\n        auth\r\n            .signInWithEmailAndPassword(email, password)\r\n            .then(auth => {\r\n                    history.push('/')\r\n            })\r\n            .catch(error => alert(error.message))\r\n    }\r\n\r\n    const register = e => {\r\n        e.preventDefault();\r\n\r\n        auth\r\n            .createUserWithEmailAndPassword(email,password)\r\n            .then((auth) => {\r\n                if(auth){\r\n                    history.push('/') //redirect to page\r\n                }\r\n            })\r\n            .catch(error => alert(error.message))\r\n    }\r\n\r\n    return(\r\n        <div className='login'>\r\n            <Link to=\"/\">\r\n                <img className=\"login_logo\" src=\"https://raraa.s3-ap-southeast-1.amazonaws.com/logo.png\" />\r\n            </Link>\r\n\r\n            <div className=\"login_container\">\r\n                <h1>Sign-in</h1>\r\n\r\n                <form>\r\n                    <h5>E-mail</h5>\r\n                    <input type='text' value={email} onChange={e => setEmail(e.target.value)}/>\r\n\r\n                    <h5>Password</h5>\r\n                    <input type='password' value={password} onChange={e => setPassword(e.target.value)}/>\r\n\r\n                    <button type='submit' className='login_signInButton' onClick={signIn}>Sign In</button>\r\n                </form>\r\n\r\n                <button className=\"login_registerButton\" onClick={register}>Create your raraa account</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'http://localhost:5001/raraa-bbca0/us-central1/api' //The Api (cloud function) URL\r\n})\r\n\r\nexport default instance;","import React, {useEffect, useState} from 'react';\r\nimport CheckoutProducts from './CheckoutProducts';\r\nimport './Payment.css';\r\nimport { useStateValue } from './StateProvider';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport { useElements, useStripe, CardElement } from '@stripe/react-stripe-js';\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport {getBasketTotal} from \"./reducer\";\r\nimport axios from \"./axios\";\r\nimport { db} from \"./firebase\";\r\n\r\n\r\nfunction Payment() {\r\n    const [{basket, user}, dispatch] = useStateValue();\r\n\r\n    const stripe =useStripe();\r\n    const elements = useElements();\r\n    const history = useHistory();\r\n\r\n    const[error, setError] = useState(null);\r\n    const[disabled, setDisabled] = useState(true)\r\n    const[clientSecret, setclientSecret] = useState(true)\r\n\r\n    const[succeeded, setsucceeded] = useState(false)\r\n    const[processing, setprocessing] = useState(\"\")\r\n\r\n    useEffect(() =>{\r\n            //generate the special stripe secret which allows us to charge a customer\r\n            //if the basket change, clientSecret is update\r\n\r\n            const getclientSecret = async () => {\r\n                const response = await axios({\r\n                    method: 'post',\r\n                    //Stripe expects the total in a currencies subunits\r\n                    url: `/payment/create?total=${getBasketTotal(basket) * 10}`\r\n                })\r\n                setclientSecret(response.data.clientSecret)\r\n            }\r\n            getclientSecret();\r\n    }, [basket])\r\n\r\n console.log('the secret is >>>', clientSecret)\r\n console.log('the user ID is >>>', user?.id)\r\n\r\n    const handleSubmit =async (e) =>{\r\n            //stripe stuff\r\n            e.preventDefault();\r\n            setprocessing(true);\r\n            \r\n\r\n            const payLoad = await stripe.confirmCardPayment(clientSecret, {\r\n                payment_method:{\r\n                    card: elements.getElement(CardElement)\r\n                }\r\n            }).then(({paymentIntent}) => {\r\n            //payment confirmation = payment intent\r\n            \r\n            db\r\n                .collection('users')\r\n                .doc(user?.uid)\r\n                .collection('orders')\r\n                .doc(paymentIntent.id).set({\r\n                basket: basket,\r\n                amount: paymentIntent.amount,\r\n                created: paymentIntent.created\r\n            }) \r\n\r\n            setsucceeded(true)\r\n            setError(null)\r\n            setprocessing(false)\r\n\r\n            dispatch({\r\n                type: 'EMPTY_BASKET'\r\n            })\r\n            \r\n            history.replace('/orders')\r\n        })\r\n    }\r\n\r\n    const handleChange = e =>{\r\n        // display the changes in card elemnt \r\n        //display if there is any error\r\n        setDisabled(e.empty); //if form empty\r\n        setError(e.error ? e.error.message : \"\"); //if error show error\r\n    }\r\n\r\n    return (\r\n        <div className='payment'>\r\n            <div className = 'payment_container'>\r\n            <h1>\r\n            Checkout(\r\n                <Link to =\"/checkout\">{basket?.length} items</Link>\r\n            )\r\n                \r\n            </h1>\r\n                \r\n                <div className='payment_section'>\r\n                    <div className='payment_title'>\r\n                        <h3>Delivery Address</h3>\r\n                    </div>\r\n                    <div className='payment_address'>\r\n                        <p>{user?.email}</p>\r\n                        <p>A-15-11</p>\r\n                        <p>PJ MIDTOWN</p>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className='payment_section'>\r\n                    <div className='payment_title'>\r\n                        <h3>Review items and delivery</h3>\r\n                    </div>\r\n                    <div className='payment_items'>\r\n                        {basket.map(item => (\r\n                            <CheckoutProducts\r\n                             id={item.id}\r\n                            title={item.title}\r\n                            image={item.image}\r\n                            price={item.price}\r\n                            rating={item.rating}\r\n                        />\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className='payment_section'>\r\n                    <div className=\"payment_title\">\r\n                        <h3>Payment Method</h3>\r\n                    </div>\r\n                    <div className=\"payment_details\">\r\n                        {/*stripe*/}\r\n                        <form onSubmit={handleSubmit}>\r\n                            <CardElement onChange={handleChange} />\r\n                            <div className = 'payment_priceContainer'>\r\n                                <CurrencyFormat\r\n                                    renderText = {(value) => (\r\n                                    <h3>Order Total: {value}</h3>\r\n                                )}\r\n                                decimalScale={2}\r\n                                value={getBasketTotal(basket)}\r\n                                displayType={\"text\"}\r\n                                thousandSeparator={true}\r\n                                prefix={\"RM\"}\r\n                                />\r\n                                <button disabled={processing || disabled || succeeded}>\r\n                                    <span>{processing ? <p>Processing</p> : \"Buy Now\"}</span>\r\n                                </button>\r\n                            </div>\r\n                            {error && <div>{error}</div>}\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Payment\r\n","import React from 'react';\r\nimport './Order.css';\r\nimport moment from \"moment\";\r\nimport CheckoutProducts from './CheckoutProducts';\r\nimport CurrencyFormat from \"react-currency-format\";\r\n\r\nfunction Order({order}) {\r\n    return (\r\n        <div className=\"order\">\r\n            <h2>Order</h2>\r\n            <p>{moment.unix(order.data.created).format(\"MMM DD YYYY , hh:mm\")}</p>\r\n\r\n            <p className=\"order_id\">\r\n                <small>{order.id}</small>\r\n            </p>\r\n            {order.data.basket?.map(item =>(\r\n                <CheckoutProducts\r\n                             id={item.id}\r\n                            title={item.title}\r\n                            image={item.image}\r\n                            price={item.price}\r\n                            rating={item.rating}\r\n                            hideButton\r\n                        />\r\n            ))}\r\n            <CurrencyFormat\r\n                    renderText = {(value) => (\r\n                    <h3>Order Total: {value}</h3>\r\n                )}\r\n                decimalScale={2}\r\n                value={order.data.amount / 100}\r\n                displayType={\"text\"}\r\n                thousandSeparator={true}\r\n                prefix={\"RM\"}\r\n                />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Order\r\n","import React, { useState,useEffect } from 'react';\r\nimport { db } from './firebase';\r\nimport \"./Orders.css\";\r\nimport { useStateValue } from './StateProvider';\r\nimport Order from \"./Order\";\r\n\r\nfunction Orders() {\r\n    const[{basket, user}, dispatch] = useStateValue();\r\n    const[orders, setOrders] = useState([]);\r\n\r\n    useEffect(() =>{\r\n         \r\n        if(user){\r\n        db\r\n            .collection('users')\r\n            .doc(user?.uid)\r\n            .collection('orders')\r\n            .orderBy('created', 'desc')\r\n            .onSnapshot(snapshot => (\r\n                setOrders(snapshot.docs.map(doc => ({\r\n                    id:doc.id,\r\n                    data:doc.data()\r\n                })))\r\n            ))\r\n            }\r\n            else{\r\n                setOrders([])\r\n            }\r\n\r\n    }, [user])\r\n\r\n    return (\r\n        <div className='orders'>\r\n            <h1>Your Orders</h1>\r\n\r\n            <div className='orders_order'>\r\n                {orders?.map(order => (\r\n                    <Order order = {order} />\r\n                ))}\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Orders\r\n","import React, { useEffect } from 'react';\nimport './App.css';\nimport {BrowserRouter as Router, Route, Switch} from \"react-router-dom\";\nimport Home from \"./Home\";\nimport Header from \"./Header\";\nimport Checkout from \"./Checkout\";\nimport Login from \"./Login\";\nimport { auth } from './firebase';\nimport { useStateValue} from \"./StateProvider\";\nimport Payment from './Payment';\nimport {loadStripe} from \"@stripe/stripe-js\";\nimport {Elements} from \"@stripe/react-stripe-js\";\nimport Orders from \"./Orders\";\n\n\nconst promise = loadStripe('pk_test_51HecgVILZcsBdsh8alGegYzF0kt9sEgRKnoOc44HGOF7haiRnEuAeSuqXCWkk9yyTH6GPppJJmaBKnHuNEw1UuKW00Bp5YC21U')\n\nfunction App() {\n\n  const [{user}, dispatch] = useStateValue();\n\n  //rewrite class base component to function component\n  useEffect(() => {\n    // will only run once when the app component loads...\n\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\n      console.log(\"THE USER IS >>> \", authUser);\n\n      if (authUser) {\n        // the user just logged in / the user was logged in\n        dispatch({\n          type: \"SET_USER\",\n          user: authUser,\n        });\n      } else {\n        // the user is logged out\n        dispatch({\n          type: \"SET_USER\",\n          user: null,\n        });\n      }\n    });\n\n    return () => {\n      //Any cleanup operations\n      unsubscribe()\n    }\n  }, []);\n\n  console.log(\"User is \" + user)\n  return (\n   <Router>\n     <Switch>\n\n     <Route path=\"/orders\">\n        <Header />\n        <Orders />\n      </Route>\n\n      <Route path=\"/login\">\n        <Login />\n      </Route>\n\n      <Route path=\"/checkout\">\n       <Header />\n       <Checkout />\n       </Route>\n\n       <Route path=\"/payment\">\n       <Header />\n       <Elements stripe={promise}>\n       <Payment />\n       </Elements>  \n       </Route>\n\n       <Route path=\"/\">\n          <Header />\n          <Home />\n       </Route>\n       \n\n\n     </Switch>\n   </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport reducer, {initialState} from \"./reducer\";\nimport {StateProvider} from \"./StateProvider\";\n\nReactDOM.render(\n  <React.StrictMode>\n  <StateProvider initialState = {initialState} reducer = {reducer}>\n    <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}